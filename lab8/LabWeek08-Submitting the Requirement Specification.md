# Lab Week 08: Submitting the Requirement Specification

https://github.com/EstherBear/SoftwareEngineering

## 0 人员介绍

| 姓名                 | 学号     |      | 姓名   | 学号     |
| -------------------- | -------- | ---- | ------ | -------- |
| 劳倩茹（版本管理员） | 18340086 |      | 吴天   | 19334019 |
| 刘思然               | 19335141 |      | 赖奕恺 | 19335093 |

# 软件项目需求分析报告

## 1 成本预算

### 1.1 经济成本

**工作环境**：本小组采取线上同步开发的规定，以中山大学东校区校园内为工作开发环境，基于飞书、git等工具进行开会、进度同步。因此，开发本项目所带来的额外空间成本为0。

**开发设备**：本小组成员以个人电脑作为主要开发设备，软件环境由开发者自行搭建，因此本项目带来的额外成本为0。

**云服务器**：本项目基于以下云服务器配置进行项目的搭建和运维，根据2021年国内云服务器厂商腾讯云的报价，该应用服务器在项目运维期间的报价约为3480元

- CPU：Intel Xeon Gold 6132，14 cores @ 2.60GHz
- GPU：NVIDIA V100-SXM2 16GB 
- RAM：256GB
- Hard disk: 480G SSD SATA
- HCA card：InfiniBand Mellanox ConnectX-6 HDR card

**预期总预算**：3480元人民币

### 1.2 时间成本

考虑到本小组成员的开发的知识储备和经验还不是很够，需要额外的时间进行学习和调研。按照里程碑大纲的安排，每周每人平均花1~3天时间进行软件开发，每个人总的时间成本为12~36天，小组总的时间成本为4*(12~36)=48~144天。

## 2 交付进度

交付进度主要按照里程碑大纲的顺序进行。

- 准备阶段：第 7-10 周
  - 需求分析阶段（7~8周）：清楚了解用户需求中的产品功能、特性、性能、界面和具体规格等，分析确定这一个开发周期软件产品要达到的目标，为开发人员开发出来软件满足客户的需要提供依据，提供完整准确的系统逻辑模型。
  - UML制图阶段（9~10周）：小组成员熟练掌握制图工具，描述用户交互逻辑，在规定时间内用功能框架图、原型图 、用例图、功能模型图（ER图）、IPO、数据字典等完善需求分析阶段产生的文档。
- 设计阶段：第 11-14 周
  - 架构设计阶段（11~12周）：首先，开发者需要对软件系统进行概要设计。概要设计需要对软件系统的设计进行考虑，包括系统基本处理流程、系统的组织结构、模块划分、功能分配、接口设计、运行设计、数据结构设计和出错处理设计等，为软件的详细设计提供基础。
  - 详细设计阶段（13~14周）：在概要设计的基础上，进行软件系统的详细设计。在详细设计中，描述实现具体模块所涉及到的主要算法、数据结构、类的层次结构及调用关系，需要说明软件系统各个层次中的每一个程序(每个模块或子程序)的设计考虑，以便进行编码和测试。
- 实现与测试阶段：第 15-18 周
  - 实现阶段（15~16周）：在软件编码阶段，小组成员根据《软件系统详细设计报告》中对数据结构、算法分析和模块实现等方面的设计要求，开始具体的编写程序工作，分别实现各模块的功能，从而实现对目标系统的功能、性能、接口、界面等方面的要求。
  - 测试阶段（17~18周）：测试编写好的系统，一个一个的确认每个功能。借助成熟的单元测试框架和随机测试框架，快速的定位平台问题并解决问题。

## 3 开发方法

考虑到本次项目的规模较小，而且开发团队人员较少，需求还不够稳定，本次项目采用敏捷开发的开发方法。我们将整个项目分解为多个相互联系，可独立运行的子功能部件，如页面设计，用户交互逻辑设计等。

通过对各个子功能部件的独立开发、测试、验收，迭代地增量地逐步开发出最终的软件产品。我们对需求分析、设计、程序实现和测试阶段作为一个开发周期进行多次迭代，每次周期结束都能交付可测试的产品，如下图所示：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=YTZkY2QzZTI0NDA3NzEzMDk5NDIwNTQ1YzJlMjI4NzlfTDY0Mld2bTRGZTFEV09OTzZCUGRRR29rcTRKYlFtRXBfVG9rZW46Ym94Y250OUFTTERxOGx1YmZIeVB0ZEJDcUpkXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

敏捷软件开发适用于小规模团队开发小型项目的场景。敏捷运动倡导“个体和协作胜于过程;可工作的软件胜于完整的文档;客户协作胜于合同;响应变化胜于遵循计划”的软件开发方式，以人为核心，注重交流和协作，强调软件可持续发展，实现频繁交付对客户最重要的价值。因此我们首先要做的就是尽早持续地交付有价值的软件来使客户满意。即使到了开发后期，也欢迎改变易于调整，不触及核心逻辑的需求。

遵循敏捷运动注重交流和协作的思想，在团队内部我们进行面对面的交流，高效且准确地传递信息。团队定期进行总结反省和工作规划，有节奏地提升软件质量和开发效率。

## 4 质量保证

为了更好的保障软件的质量，本小组开展软件质量保证计划。该计划的目的在于对所开发的基于人工智能(AI)教学在线评测与游戏网站项目，规定各种必要的质量保证措施，以保证所在交付项目时能够满足本小组对项目的预定需求设定，能够满足和保障本项目计划书中提供给用户的各项具体功能。

由于本项目分为不同的模块，由本项目开发小组的不同成员分别负责进行开发，同步并行进行。因此，在各个软件开发成员在开本项目所属的各个子系统（其中包括本项目的支持软件、组件）时，都应该执行本计划中的有关规定，但可根据各自的情况对本计划作适当的剪裁，以满足特定的质量保证要求，剪裁后的计划必须由项目开发小组共同赞成。

软件质量保证工作涉及软件生存周期各阶段的活动，应该贯彻到日常的软件开发活动中，而且应该特别注意软件质量的早期评审工作。因此，对于所开发的项目，我们设定了多项评审和检查活动，主要采取了 “代码审核和演练” 的实践思想，依据项目需求和实现细节我们采取了相同的编码规范、代码风格和设计原则，每个开发成员共同遵守这些原则，只要开发一项新功能，除了作者外的其他小组开发者共同审核新代码，并搜索所有编码或设计错误。基于这样的思想，能够帮助我们整个开发团队提高对其他软件组件和功能的认知，深入了解彼此的工作，更加轻松的移交工作，提交整体的代码质量和优化设计思路。

除了在开发新功能时的代码审核和演练，我们还指定了常态性的评审和检查工作，目的是为了确保在软件开发工作的各个阶段和各个方面都认真采取各项措施来保证与提高软件的质量，保证开发过程中部分已完成的子模块功能完好、完整、满足需求。其中，主要进行如下几类评审与检查工作：

1. 阶段评审：在项目开发过程中，需要定期地或阶段性地对某一开发阶段或某几个开发阶段的阶段产品进行评审。在每个阶段评审中包括如下三次评审过程，第一次评审软件需求、概要设计、验证与确认方法；第二次评审详细设计、功能测试与演示，并对第一次评审结果复核；第三次是功能检查、物理检查和综合检查。
2. 日常检查：在项目的日常开发中，各个子模块的开发者应该填写项目进展表，在定期会议中汇报个人开发流程和成果，通过日常检查来提高开发者的自律性和小组责任感，提高对隐藏bug的发现效果。
3. 功能检查：在单个子模块完成后，本开发小组组织除作者外的其他开发成员作为专门的验收小组，对该子模块的功能进行检查。包括对普通功能、核心功能的分别黑盒检测，通过大量的数据注入来检查该子模块是否全面、完整的满足预期的功能。

当在各类评审和检查工作中出现不合格、需求不满足现象时，由全体小组开发成员发起研讨会议，共同对不能通过评审的子模块进行分析和追溯，力求快速追溯和定位到问题代码所在，与子模块开发者共同进行修改和更正。当完成改进后，该子模块重新按照软件质量保证计划进行评审和检查，直到完整、全面的满足预期的全部需求。

## 5 验证和确认准则

1. 软件符合所有先前制定的所有功能和非功能需求。
   1. 完成基本的教学和评测功能。提供多种游戏框架的可视化评测，用户提交训练的关键代码，网站能够实时展现用户提交代码的训练的游戏结果，使得用户在学习中编写AI来通关多种游戏。
   2. 完成基本的界面设计和可视化。保证用户在编写AI算法玩游戏时能有流畅、炫酷的游戏体验，其他界面保持基本的简介和美观。
2. 文档齐全，符合GB/T 8567-2006相关规定。
   1. 完成可行性分析报告。分析项目的要求、目标和环境，提供可供选择的解决方案和技术路线，并从社会、经济和技术各方面进行可行性分析。
   2. 完成软件需求分析报告和需求规格说明。分析并定义好产品描述、产品功能、用户特点、约束、假设和依赖关系、需求分配。
   3. 完成概要设计和详细设计说明。描述软件系统的基本处理流程、系统的组织结构、模块划分、功能分配、接口设计、运行设计、数据结构设计和出错处理设计，并在此基础之上，描述实现具体模块所涉及到的主要算法、数据结构、类的层次结构及调用关系。
   4. 完成软件测试说明和报告。描述对于软件系统的测试准备、测试用例和测试过程，并对合格性测试进行记录。
3. 文档之间一致，程序和文档相符。

根据概要设计和详细设计进行软件开发，在开发过程中遇到困难或者需求变更，修改需求规格说明以及设计报告，保持文档之间、文档和程序相符。

1. 对被验收软件系统在验收测试中查出的错误总数及在验收审查时查出的交付文档中的错误总数均不得超过预定的数目。

## 6 验收规程

### 6.1 验收组织

1. 验收组织人员构成：在进入测试阶段后，成立验收组织，开发小组成员全体参与
2. 验收组织的任务是：
   1. 制定验收测试计划，验收审查计划
   2. 进行验收测试和验收审查
   3. 进行软件系统验收评审

### 6.2 验收测试

1. 用户测试：通过模拟用户使用对项目进行测试，确保测试用例不通过数的比例低于1.5%，不存在高级别错误和中级别错误，低级别错误的数量小于等于5，且所有提交的错误都已得到更正
   1. 高级别错误：包括功能引起系统崩溃；程序发生死机、非法退出或死循环；数据丢失，数据发生严重计算错误；数据库发生死锁或数据库设计不达到第三方的需求等。
   2. 中级别错误：包括主要用户功能缺失或主要功能不完整、没有实现；数据库表、事务未添加完整性约束；异常操作可能导致系统产生严重处理错误；展示给用户的页面严重格式错误等。
   3. 低级别错误：包括非重要功能缺失；轻微数据错误；非常规操作结果与预期不一致等。
2. 文档测试
   1. 测试操作、维护文档是否齐全，是否包含使用该软件的所需信息和所有功能模块
   2. 测试用户文档描述的信息是否准确、没有歧义和错误的表达
   3. 测试用户文档是否容易理解，是否使用恰当的术语、图形表示和详细的解释
   4. 测试用户文档是否对主要功能和关键操作提供了应用实例
   5. 测试所有文档中是否有详细的目录表和索引表
3. 性能测试
   1. 响应时间测试：对后端服务器、前端服务器和中间件分别测试响应时间，以确保项目能够快速响应用户的请求
   2. 并发量测试：对后端服务器、前端服务器和中间件分别测试并发量，以确保项目能够在高并发量下正常运行
4. 安全测试
   1. 测试项目中各种用户的权限分配是否合理
   2. 测试项目中是否存在安全漏洞和隐患
   3. 测试项目是否有留痕功能
   4. 测试项目中的密钥是否以密文存储

### 6.3 验收审查

在验收审查中，主要对项目合同、相关标准符合性的再次确认和确定性审查。

### 6.4 验收评审

评审时机：验收评审应在完成验收测试和验收审查后进行。

评审通过准则如下：

1. 本软件系统通过通过验收测试
2. 本软件系统通过验收审查

评审程序：

1. 验收组织审查验收测试结果，验收审查结果。
2. 根据评审通过准则，验收组织就软件系统是否通过验收评审进行表决
3. 根据表决情况做出评审结论。

评审结论：评审成员2/3同意即为通过。（本项目评审成员为4人，故3人同意即为通过）

### 6.5 验收流程

本软件系统的验收流程包括：

1. 开发完成，开发小组决定成立验收组织
2. 验收组织制定软件系统验收计划
3. 验收组织进行软件系统验收测试和验收审查
4. 验收组织进行软件系统验收评审
5. 验收组织形成软件系统验收报告

# 软件需求规格说明书(SRS)

## 目次

[toc]

## 1 引言

### **1.1 目的**

本文档的目的是详细地介绍人工智能(AI)教学在线评测与游戏网站所包含的需求，以便客户能够确认产品的确切需求以及开发人员能够根据需求设计编码。本文将结合文字描述，流程图，界面原型以及类图等来描述网站的功能，性能，用户界面，运行环境，外部接口以及针对用户操作给出的各种响应。本文档的预期读者有客户（包括在校学生、教师、以及AI学习爱好者），项目经理，开发人员以及跟该项目相关的其他人员。

### **1.2 范围**

本项目顺应时代背景，以人工智能技术教学作为核心功能开展，创造性的融合了教学机制、竞技机制和盈利机制，开发一个包含学习者、教学者和开发者等不同角色直接关联的统一平台，意在整合资源、推动技术进步，希望能够切实帮助人工智能领域人才能力和素质的培养，降低人工智能领域的入门难度，减少人工智能领域知识传递的成本，进而推动整个行业的发展和人才培养。

- 对于学习者来说，我们意在为其提供优质的人工智能领域教学服务，在学习中融入闯关和竞技功能，依托游戏带来学习的趣味性，降低传统人工智能领域学习的门槛
- 对于教育者来说，我们意在为教学者提供更加便利的教学途径，协助教学者开展教学事业，提供给领域内人员再就业的机会，帮助整个领域内的知识传播和共享。
- 对于开发者来说，我们意在提供给开发者应用和展示开发技术的渠道，帮助开发者为自己的知识成果进行盈利，提供给开发者灵活就业和施展自己的机会，打通不同角色的联络壁垒。

### **1.3 定义、简写和缩略语**

以下是说明书中会出现的各种术语的定义，以及各种简写和缩略语，以便读者阅读时进行参考。

| 术语、简写和缩略语 | 解释                                                         |
| ------------------ | ------------------------------------------------------------ |
| Html               | 超文本标记语言，是一种用于创建网页的标准标记语言             |
| CSS                | 层叠样式表(英文全称：Cascading Style Sheets)是一种用来表现HTML文件样式的计算机语言 |
| JavaScript         | JavaScript（简称“JS”） 是一种具有函数优先的轻量级，解释型或即时编译型的编程语言 |
| React              | React是用于构建用户界面的JavaScript库                        |
| HTTP               | HyperText Transfer Protocol，超文本传输协议                  |
| WebSocket          | WebSocket是一种在单个TCP连接上进行全双工通信的协议           |
| DDS                | Data Distribution Service for Real-Time Systems，是一种物联网协议 |
| Flask              | Flask是具备的扩展性和兼容性的web开发框架                     |
| SqLite             | SqLite是一个完全独立的、不要任何配置、支持SQL的、开源的文件数据库引擎 |
| Vakuum             | 一个采用MVC（模型-视图-控制器）架构设计的判题系统            |

### **1.4 引用文件**

《互联网信息管理办法》——中华人民共和国国家信息管理办公室

### **1.5 综述**

该文档接下来的内容包含总体描述和具体需求两个部分。

- 在总体描述部分中，将会对产品呈现形式和产品功能进行描述，对用户群体和特点进行分析，指出本项目的开发约束、假设和依赖关系、以及需求分配。
- 在具体需求部分中，提供了产品网站建设的各种具体需求，包括了本项目的外部接口需求、功能需求、性能约束、设计约束、软件系统属性、以及其他需求。

## **2 总体描述**

### **2.1 产品描述**

一款应用于人工智能(AI)教学的**在线评测与游戏网站**。

本项目以人工智能技术教学作为核心功能开展，用户可以通过网站上的指导教学来学习和实现各类统计学习、深度学习、强化学习等人工智能领域算法，并将所学的知识应用于多种有趣的游戏进行实践。项目提供给用户通过编写AI通关游戏和收集成就、多用户通过编写和优化AI进行对战和排名、基于博客社区的知识的扩展与分享等产品形态，从而帮助用户在更愉快、轻松的氛围中更深刻的理解和学习人工智能知识。

### **2.2 产品功能**

#### 2.2.1 教学机制

1. **教学系统**：网站提供了教学课程以及相关知识的可视化、可操作，用户可以在自行演示中更好的理解算法
2. **评测系统**：网站提供了多种游戏框架的可视化评测，**用户提交训练的关键代码，网站能够实时展现用户提交代码的训练的游戏结果，使得用户在学习中编写****AI****来通关多种游戏**

#### 2.2.2 竞技机制

1. **成就**：网站提供了不同玩家的AI对战功能，例如应用于坦克大战等对抗类游戏。为多种游戏建立了rank天梯机制、成就收集机制，激励玩家通过编写AI相互对抗、相互学习
2. **赛事**：网站定期开展人工智能对抗类比赛，以激励用户的学习积极性和提高用户的学习创新能力

#### 2.2.3 盈利机制

1. 网站提供了博客社区功能，用户之间可以进行知识分享、程序开源、付费解答
2. 网站提供了自定义游戏上传功能，用户能够提交自己的编写的游戏来丰富网站的内容，以此来帮助拓展网站的教学和知识分享功能，也为相关的游戏开发展带来一定的收益

### **2.3 用户特点**

本平台的目标用户人群有三类：一是计算机相关专业学生，二是人工智能课程教师，三是教学游戏自由贡献者。

#### 2.3.1 学习者

用户的能力：该用户群的特点是有一定编程能力基础，但对人工智能领域尚处于入门阶段。

用户的需求：本平台的目标用户目的是快速了解人工智能领域算法的思想，让平台负责相关编程环境的部署、运行结果和数据的可视化问题，因此网站应该将中心放在教学机制上，尽量简化算法的实现部分，并给出丰富直观的运行数据。

用户年龄：用户年龄段预计在18-30岁之间。教学资源的使用者占平台的主体部分，因此在设计风格上需要迎合该年龄段用户。

#### 2.3.2 开发者

开发者贡献游戏的动机有两种：一是提升名誉，二是获取收入。收入可分为虚拟收入和金钱收入，虚拟收入用于购买平台服务，如计算时长、计算性能提升特权等；金钱收入则通过打赏机制和基于使用人数和用户评价、由平台定价策略指导的收费制度实现。

#### 2.3.3 教学者

课程教师的需求在游戏自由贡献者的基础上，可能存在对教学资源访问控制的额外需求，并对平台计算能力的稳定性比普通用户有更高要求。

为了满足该人群的需求，势必平台会付出更加显著的运营成本：一是教学资源访问控制在增加平台存储开销的情况下，并没有增加平台对其他用户的影响的提升；二是对平台计算能力稳定性的要求将使平台为该人群的教学资源运行分配更多的计算能力，使得服务该人群的成本增大。

平台对该人群的特殊需求采用收费制，对教学资源访问控制和计算能力稳定性保障功能进行收费，收入的资金用于填补额外服务成本。该额外收入还利于平台优化，提升普通用户的使用体验。

### **2.4 约束**

#### 2.4.1 平台计算能力的约束

由于平台计算能力有限，且平台主要任务（代码评测）为计算密集型任务，故不得不采取各种机制保持平台的计算能力能够最大限度服务用户。

计划采用用户分级制，在平台运行高峰期保证重要客户能够稳定使用，普通用户则需要进行排队。

另外，由于平台计算能力有限，根据各个游戏的运行状况，用户不能运行计算资源占用较大的提交。

#### 2.4.2 法律法规约束

- 网站需遵守的相关法律法规包括《中华人民共和国电信条例》《互联网信息管理办法》《计算机信息网络国际联网安全保护管理办法》。
- 网站不得制作、复制、发布和传播在《互联网信息管理办法》内规定的违法信息
- 网站会向用户提供有偿的信息服务，作为经营性网站，应有健全的网络与信息安全保障措施，包括网站安全保障措施、信息安全保密管理制度、用户信息安全管理制度。

#### 2.4.3  支付宝接口限制

支付宝接口单秒交易数的限制为10TPS，这就要求减少用户充值场景的出现。可以提供有限的充值费用选择，使用户一次完成能够满足多次支付的充值，在支付金额获取题目访问权限等支付场景下从余额扣费，从而减少单个用户对支付宝API的调用。

#### 2.4.4 安全和保密考虑

程序员在编写代码时应当遵循安全编码规范。

- 程序员应当使用编译器的最高警告等级。在编译过程中，应当修改程序中的错误，直到警告解除。应当使用静态和动态的分析工具来检测和清除安全缺陷。
- 程序设计者在设计程序时必须验证来自所有不可信数据源的输入。适当的输入验证可以清除多数软件漏洞。在设计程序时，必须对多数外部的数据源抱着怀疑的态度，其中包括命令行参数、网络接口、环境变量、用户控制的文件等。
- 访问决策的制定应当根据许可权限而不是根据其它的任何方面。这意味着，默认情况下，应当拒绝访问，程序的保护机制应当根据“允许谁访问”来确认访问条件。
- 程序的每个处理过程在执行时，都应当仅使用为完成其工作而需要的最小特权。任何提升的许可权限都要尽量持续最短的时间。这种方法可以减少攻击者用提升的特权执行任意代码的可能性。
- “净化”传送给其它系统的数据，从用户输入的数据中清除恶意数据，如清除用户提交表单时的恶意的或错误的字符。
- 在该项目未发布之前，遵循保密规定，保证源码不被泄露。

### **2.5 假设和依赖关系**

- 网站的支付接口暂定为支付宝接口，若支付宝接口不可用，可替换成微信支付接口，亦可两者兼容。
- 后端服务器操作系统设定为Centos，若存在软件框架不兼容性问题，例如某版本的Flask框架不兼容当前的软件环境，优先选择替换其他兼容版本的同软件；如果该软件框架不存在兼容版本，考虑替换为具备相似功能的其他同类软件；最后考虑更换其他的操作系统
- 假设当前租借的服务器能够满足预期对实现项目高并发、低延迟的要求，如果出现硬件计算能力不足以支持多用户同时评测，硬件内存不足以支持多进程上下文同时并发。我们考虑对硬件设施进行升级，租借具有更强性能的其他服务器。

### **2.6 需求分配**

根据市场需求并由于团队规模和开发经验的限制，我们为需求分配优先级并优先实现优先级高的需求：

- 学习模块的优先级最高，学习模块是整个平台的功能核心，学习模块平台完成后即可作为预览版本发布。
- 教学和开发者的优先级次之，关系到平台能否开始由用户提供功能，大幅提高平台的内容丰富度和质量。
- 论坛、交易和竞技功能作为维持用户存量，增加用户月活跃度的附加功能，可以在平台开发中后期实现。

## **3 具体需求**

### 3.1 外部接口需求

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTkyZTY2OGI2NWFjM2ViZDY1MzRhZWZjMjkwNDE0YTNfSEdvMmtQS2FPcEdCR0lnaVgwdEhReW9QcGlFakNXNU9fVG9rZW46Ym94Y25rNGlrS1N2ZmFFTGd6NjZNeU5ZMUJoXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)



#### 3.1.1 用户界面

网站顶栏显示各个子页面的入口，下面描述各个子页面的用户界面需求。

##### 3.1.1.1 主页页面

网站主页包括题目列表，成就展示。

- 题目列表优先展示学习者被教师分配的任务，按降序展示的其他热门且未完成的题目次之，再次，展示最新题目
- 成就展示展示学习者题目完成进度和学习者的平均得分和总得分排名。

##### 3.1.1.2 评测页面 

评测页面应提供题目展示区、代码编辑与提交区和结果展示区。

- 题目展示区列举题目资料，为节省展示空间制作为边栏形式，学习者依需求点击相关控件展开显示。
- 代码编辑与提交区提供代码编辑框和提交按钮，可在基本编辑功能需求满足的情况之上添加代码高亮功能和代码智能感知自动补全功能。
- 结果展示区分为直观展示区和只读Console，以PNG或GIF格式显示代码运行结果，并在只读Console展示代码标准字符输出和标准错误输出。

##### 3.1.1.3 开发者页面

开发者页面提供文档浏览子页面、SDK下载链接和题目提交界面。

- 文档浏览子页面应为开发者提供易于浏览的文档浏览界面
- SDK下载链接利用CDN为用户提供高速下载服务
- 题目提交界面包括：代码上传区域、审核进度展示、定价选择栏、承诺书勾选栏和提交按钮。

##### 3.1.1.4 教师页面

教师页面提供班级管理区域和完成情况视图。

- 班级管理区域包括：
  - 用户群组管理区：使教师可以添加用户群组和管理用户群组成员
  - 题目发布区：使教师能够在平台的题目库里选择题目分配给拥有的用户群组。
- 完成情况视图可以展示指定用户群组，按已发布题目或学习者ID筛选并展示学习者ID和完成情况。

##### 3.1.1.5 论坛页面

- 文章浏览：论坛页面的每条文章以题目名字、时间段、代码得分区间为标签，用户可使用这些标签筛选出符合需求的文章，并添加点赞和点踩按钮帮助筛选出精选评论。
- 文章发布：需提供文字编辑框、题目选择栏、标签选择下拉列表和发布按钮。

#### 3.1.2 硬件接口

我们采用了如下配置的服务器作为我们的项目搭建服务器，通过系统所支持的指令集作为基础进行优化，例如采取并行向量化AVX-512编程作为软件加速，同时V100-SXM2型号GPU能够提供高可靠的强大算力，满足了我们高并发、低延迟的用户代码评测的需求，而Intel的最新Xeon Gold 6132型CPU满足了我们对搭建大量数据库、文件服务器和Web页面的支撑；最后我们整体的硬件框架都基于市场主流硬件，在软件层次上几乎支持所有的常见主流协议。

- CPU：Intel Xeon Gold 6132，14 cores @ 2.60GHz
- GPU：NVIDIA V100-SXM2 16GB
- RAM：256GB
- Hard disk: 480G SSD SATA
- HCA card：InfiniBand Mellanox ConnectX-6 HDR card
- 接口类型：Serial ATA
- 接口速率：Serial ATA 300 
- 电源类型：后备式 UPS 
- 指令集：MMX/SSE/SSE2/SSE3/SSE4.1/SSE4.2/SSSE3/Sup-SSE3/EM64T/AVX/AVX2/AVX-512/IMCI

#### 3.1.3 软件接口

- 支付模块：本项目调用支付宝的支付接口。支付宝是应用最为广泛的互联网支付方式之一，引入支付宝支付，能够便利用户使用网站的付费功能。

电脑端调用支付宝，流程很简单，在页面有一个立即支付的按钮，点击进入商户的后台，商户的后台将支付所需的参数传给支付宝，支付宝返回给商户一个字符串形式的form表单，商户将这个form表单传给前台，前台对表单进行提交即可跳转到支付宝页面，用户在支付宝页面支付完成后，支付宝会先调取我们的通知接口进行支付结果通知。然后跳转到我们传给支付包的回调页面。这就是电脑端调用支付宝的整个流程。

公共接口的参数在此文件下https://opendocs.alipay.com/apis/api_1/alipay.trade.page.pay?scene=common

- 服务器平台：我们采取Centos作为服务器开发平台。

CentOS是Community Enterprise Operating System的缩写，也叫做社区企业操作系统。是企业Linux发行版领头羊Red Hat Enterprise Linux的再编译版本，而且在RHEL的基础上修正了不少已知的Bug ，相对于其他 Linux 发行版，其稳定性值得信赖。我们在Centos平台上通过源码配置和安装所需的软件进行开发和检测，同时最终的项目服务器完全搭载在基于Centos的云服务器上

- 数据库接口：我们采取Sqlite3作为项目的数据库引擎

SqLite是一个完全独立的、不需要服务器、不要任何配置、支持SQL的、开源的文件数据库引擎。考虑到我们项目的需求，针对用户的账号数据、代码文件数据、游戏进程数据等等，我们需要搭建非常多数量的独立数据库，而得益于Sqlite的轻量级、便捷性和强可移植性，我们选择Sqlite作为我们的开发数据库引擎。

- 文件服务器：我们采取开源Web框架Flask搭建文件共享服务器

Flask是目前十分流行的web框架，采用Python编程语言来实现相关功能。它被称为微框架(microframework)，微框架中的“微”是指Flask旨在保持代码简洁且易于扩展，Flask框架的主要特征是核心构成比较简单，但具有很强的扩展性和兼容性。我们基于Flask搭建前后端重要的文件服务器，以此来存储重要的资源文件。

- 评测系统：我们采取开源、可扩展性强的基于评测框架Vakuum

Vakuum 系统分为vakuum-web和vakuum-judge两大模块，其中vakuum-web是基 于PHP和MySQL的一个B/S应用程序，采用MVC（模型-视图-控制器）架构设计，负责与用户交互和与核心通信。支持于评测机分离或和一，支持多评测机协同作业，不需要daemon和底层权限。用户通过访问vakuum-web查看题目，提交代码，vakuum-web将请求派发给vakuum- judge终端。收到请求以后，使用C语言编写的核心对代码进行编译，并在执行器沙盒中执行，保证系统安全。

- Web：我们采取免费开源成熟的Web 框架React

React是Facebook开源的一个用于构建用户界面的一款JavaScript库，现已应用于Facebook及旗下Instagram应用。React与庞大的AngularJS不同的地方在于它只专注于MVC框架中的V，即视图，这点使得React很容易与开发者已有的开发栈进行融合。React在使用的时候，从UI出发，抽象出不同的组件，继而将它们拼装起来，这点顺应了Web开发组件化的趋势。

使用react的上层开发者要更多，上层开发者与一般开发者的区别是有很强的产出能力，对于开发生态的好处显而易见。React 的生态圈带给了我们 Redux（immutable 的思想，带来 hot-reloading 的用法）、react-motion（真正的 spring 动画）、react-router、CSS-in-JS 等等漂亮的想法，以及 Hooks、Suspense、Portal、SSR、React Native、Async Rendering，甚至Yew这种 “JSX in Rust”

#### 3.1.4 通信接口

- HTTP协议，使用HTTP通信，与后端交互获取服务器资源。 

HTTP协议是用于从WWW服务器传输超文本到本地浏览器的传送协议。它可以使浏览器更加高效，使网络传输减少。它不仅保证计算 机正确快速地传输超文本文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。

- 使用WebSocket协议获取服务器游戏执行结果。

WebSocket让我们可以在客户端和web服务端之间实现实时通信，不需要客户端发起请求，服务端就可以直接向客户端发送数据，目前大多数浏览器都支持WebSocket协议。由于这一特性，它能够应用到很多场景下，比如游戏。 

- DDS协议，面向实时系统的数据分布服务

DDS信息发布中间件是一种轻便的、能够提供实时信息传送的中间件技术。DDS中间件是一个软件层，从操作系统、网络传输和底层数据格式的细节中抽象出应用。相同的概念和api提供给不同的编成语言，使得应用在不同的操作系统、编成语言和处理体系架构之间交换信息。底层细节包括数据传输格式、发现、连接、可靠性和、协议、Qos策略等由中间件来管理。

### 3.2 功能需求

#### 3.2.1 用户类别1：计算机相关专业学生

对于本平台的首要受众用户便是学习人工智能相关知识的学习者，该类用户的主要需求是能够高效、有趣的学习人工智能相关知识。为了满足用户的学习热情，我们开发了基于游戏评测的教学模式，要求用户通关编写相关代码来游戏副本闯关和成就收集，提高学习的趣味性和吸引力；同时为了满足知识学习的全面性，我们开发了教师授课的模式，以及知识博客的自学模式，基于这些功能，实现和满足用户的学习要求。

##### 3.2.1.1 功能模块1：课程学习

###### 3.2.1.1.1 功能需求1：课程管理

1. 功能说明：学习者可以根据课程ID加入到由特定教学者创建的课程中进行学习；也可以通过自由搜索、选择其他教学者用户发布的网课视频进行自由学习。此外，学习者可以管理自己加入的课程列表，包括对课程进行删除、评分等功能。
2. 涉及用户：学习者、教学者
3. 系统实现：用户通过向系统发出加入课程的请求，系统收到请求后进行相应，在相关的数据库进行数据更新和修改，为用户打开加入课程的相关访问权限，在前端为用户提供课程的新URL链接和HTTP对象。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=NmZkMDI5YjdlZjYyNjQyYjJlYjIzYTEzMDc2ZjcxNzFfelJENmxQVHZybUpGRzRMemhEMnR4MGhJTDVoUjNUNTBfVG9rZW46Ym94Y25YbERVaDdPZjZwb25DcUdSRGQ0TlBoXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

###### 3.2.1.1.2 功能需求2：提交作业

1. 功能说明：学习者在加入课程后，可以根据教学者的要求提交作业，并得到来自教学者的批改反馈，同时可以根据不懂的地方对教学者发起提问。
2. 涉及用户：学习者、教学者
3. 系统实现：用户发出提交作业的请求后，系统建立ssh / http连接，接收来自用户的文件传输，根据相关用户信息将传输的文件在后端文件服务器进行存储，同时更新课程教师的文件访问权限和提示信息，并在前端响应用户，提示其成功提交或因网络问题传输失败等等。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=NjE5YmE5YTlmMTMwZDg0MWUxZDc0YjUzODY2YzE2Y2RfUm96ZWF5WEo5SUJkc3B3THMweEt0ZEg3ZDdMbEFIRmxfVG9rZW46Ym94Y25yY1Qyd2FHbUpSYU5WNnBxMUpYNDFnXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

###### 3.2.1.1.3 功能需求3：课程考试

1. 功能说明：学习者可以根据教学者的要求，参加教学者建立的考试进行水平检测。
2. 涉及用户：学习者、教学者
3. 系统实现：用户发出加入考试的请求后，系统会用户的身份和权限进行检测，检查成功后。更新用户的临时权限，建立用户和考试页面的连接，此后用户即可在前端通过考试页面进行答题，答题结果通过通信协议传输给批改程序进行批改，最终结果反馈给教学者和学习者。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=N2FjZTg4NDNhN2Y1MzY4MDQxNjhlMTk4OWM1ZTExMWFfaUtlSzRqbzdXU215OURFYkp0aDg4YTV6bjQxMGRUZldfVG9rZW46Ym94Y25kWnVldnRhTVFYeWhkWmxYSnhHbzVmXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

##### 3.2.1.2 功能模块2：知识博客

1. 功能说明：我们期望建立一个交流社区，不管是学习者、教学者和开发者都可以自由发表知识博客，进行知识分享和交流；其他用户可以任意观看博客，并对博客进行留言评论，博客主也可以进行回复，从而实现对知识的交流共享。
2. 涉及用户：学习者、教学者、开发者
3. 系统实现：通过维护特定的文件服务器来保存交流社区的所有博客数据，用户发出发表博客的请求后，系统根据其请求传递给后端服务器，对相应的博客进行数据保存。用户搜索、浏览和评论博客都通过前端的对外接口进行请求，通过Https协议反馈对应的对象，对博客的评论通过对文件服务器博客数据的修改来实现。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=YTFjOTk4NjgyZTc1NzI0M2I4NzBlNDc1M2UyZGVhZDNfZFpwTkpnM0dldDNaVU1XajVsajEwMFFjdUIxc3Z3b2NfVG9rZW46Ym94Y25WQkM2NlFBSmJ3bTkwcnM3RWRnaTJlXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

##### 3.2.1.3 功能模块3：游戏教学

###### 3.2.1.3.1 功能需求1：游戏评测

1. 功能说明：项目实现了多种游戏副本的可评测化，用户可以根据所学进行实践，编写操作游戏人物的核心代码文件或者脚本文件，或是提交训练的关键代码，项目能够实时对代码进行评测，并反馈展示给用户提交代码的游戏实时效果，使得用户在学习中进行实践，通过编写AI来通关多种游戏。例如利用强化学习通关愤怒的小鸟、利用博弈论下棋、利于人工智能通过吃豆人游戏等等
2. 涉及用户：学习者
3. 系统实现：当用户修改代码提交评测后，系统将请求派发给评测服务器上的评测节点，判题程序对代码进行编译，并在执行器沙盒中执行，将输出结果反馈提交给前端，由前端反馈执行结果给用户查看。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=MzFjNTcyMjAzYTYyNjBmZjcyYjRkNzkwMmI5ZTc3MmVfZmxUSWRFd2lUWUoyZ1dIMnhuaFRBeG51bEd1TFp4M0pfVG9rZW46Ym94Y245TmRJMjRZSkFsU21YZHBnQmZaanpoXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)



###### 3.2.1.3.2 功能需求2：成就系统

1. 功能说明：针对用户的学习进程，我们希望为不同的评测游戏建立了Rank天梯机制、成就获取和收集机制，以此来激励用户的学习积极性和成就感。
2. 涉及用户：学习者
3. 系统实现：通过建立单独的数据库，来维护用户在不同评测游戏上的Rank，以及成就收集数据。通过对用户提交代码后评测成绩的额外分支判断，来判断是否达到某成就的达成机制，如果达成，对相应的数据库进行更新和修改，同时反馈给前端成就页面。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=MjdiM2EzNzNiYTAyYzYwMTg2ZTJmODAxNjNlNzY5NTRfWUFaNXJ2V1pES040VEdyWUZaZ25RRFJ2NUZLWmFmeUxfVG9rZW46Ym94Y24xRWhPTG9hMXBqRVU0Z0RrVWVZQUtnXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)



###### 3.2.1.3.3 功能需求3：竞赛功能

1. 功能说明：项目定期开展人工智能类比赛，包括编写人工智能AI对抗类比赛、人工智能算法优化类比赛等等。以此激励用户的学习积极性和提高用户的学习创新能力。用户可以在比赛前期报名，在比赛中编写和提交代码，比赛后得到成绩排名。
2. 涉及用户：学习者
3. 系统实现：在比赛前提，通过前端开放特定接口，用户即可填写数据提交请求，进而派发给后端数据库进行数据检查和保存；在比赛期间，为具有报名数据的用户修改权限，在前端开放比赛通道接口，比赛途中用户的请求也通过特定的评测节点进行相应，通过由特定的服务器维护实时的Rank榜单功能，最后由特定程序计算比赛结果反馈给前端。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=NDAxYTU5ZWZjMzdhNjA0YWQyNjJlNjA5OTUyNGQzODZfbjFUWmNRTGhJRUpzanI1V002MUVoNGVZRzlkVjZGeExfVG9rZW46Ym94Y25UaWxrU1RhdzFhMUxSd1hoOE9MdVVjXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

#### 3.2.2 用户类别2：课程教师

课程教师是平台教学资源的重要提供者和使用者，其特点是一旦选用便将在一段时间内连续使用，因此保证功能的合理性和体验的稳定性尤为重要。

课程教师的基本需求是授课功能，发布学习任务、追踪学生课程完成情况。另外，课程教师对课程版权的要求较高，存在课程权限控制的需求，为鼓励共享精神以促进平台发展，平台对课程权限控制功能收取合理的维护费用。

##### 3.2.2.1 功能模块1：授课功能

1. 功能说明：课程教师可以建立学习者群组，将课程资源（题目以及配套资料）推送至学习者或学习者群组；学习者则可以访问所属学习者群组和个人的受邀请课程资源。
2. 涉及用户：学习者、课程教师
3. 系统实现：课程教师向服务器发出指定课程加入指定学习者的请求，服务器在数据库中将学习者与该课程关联起来，之后学习者发出拉取已参与课程请求，服务器将检索数据库并将相应课程发往浏览器。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=OGU1ZDY5Njk1ZGM1Yjc5NWMxNGEyY2E5YTk3NDQyMGVfUFFGRk5rZmVkanhMMGt6N0VzRlk5aTRFckR6Um1QNFBfVG9rZW46Ym94Y25WZVZXYnFQOHNmTFhUMlNWV3cyaTY3XzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

##### 3.2.2.2 功能模块2：盈利功能

1. 功能说明：对教师存储的私有资料进行收费，并设置保存时效。
2. 涉及用户：课程教师
3. 系统实现：在课程教师将教学资料以私有方式提交时，将从平台余额扣款，若余额不足则将调用支付宝的支付接口，支付成功后方可提交私有资料；另外，课程教师可以将资料的状态改为公开或私有。更改为私有则需要设定时长按月收费；更改为公开则退还剩余平台余额。平台周期性地触发时效检查，对私有时限过期的课程资源予以公开。
4. 功能示意图：

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=OTkzNDkxNDU3Yjg5ZWJhMmJkMDJkMjRhN2MyMDgwMzZfSk9nQ2pLODRaQ2hicUVMRWg4WDQxU1NXbHlHV2xFUnFfVG9rZW46Ym94Y255ZGNyWnJZQU9PTXN5R1NBR0FpNHpjXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)



#### 3.2.3 用户类别3：自由开发者

本平台为自由开发者提供了再就业的灵活渠道，自由开发者的功能需求是平台具备能够上传和应用个人项目的开发渠道，同时具有合理的盈利模式为其开发带来收益。因而自由开发者对开发功能的标准化和服务器承载能力要求颇高。

##### 3.2.3.1 功能模块1：开发功能

1. 功能说明：自由开发者需要在本地通过我们提供的SDK进行题目的开发和测试。在完成开发后可以发起上线提交请求，经人工或系统检查通过后即可部署上线。
2. 设计用户：自由开发者，题目审核员
3. 系统实现：自由开发者在开发页面根据指引在本地安装开发工具包(SDK)，该工具包将使用主流的编程框架作为技术支撑，实现在本地模拟线上环境测试的功能。在根据开发文档完成开发和测试后在开发页面提交打包好的题目，系统将其加入审核队列，题目审核员对题目按先后顺序审核，审核通过后将题目加入数据库上线。

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=ODUzZTc1YzZmMzQxYjYwMjAzM2YyNzA2ODdkZTRmZDRfMzhjQWRSbzBFUjZQZ1pjWGgyeUNJVzU5ZktpUncxUXpfVG9rZW46Ym94Y25NRTB0THhINUtSR0dBeWJrbUQ3RUFlXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

##### 3.2.3.2 功能模块2：盈利功能

1. 功能说明：自由开发者在提交题目时可以通过提交表单的方式在系统指导下设置收款金额，在展示题目的时候平台将提供收费界面和赞赏按钮，平台将对题目的收益与开发者分成。
2. 涉及用户：自由开发者，学习者
3. 系统实现：开发者在提交题目时可以通过HTTP协议发送填写的表单，服务器将会对该表单进行处理并加入题目的属性中。在向学习者显示题目时，服务器会查询相关属性以决定收费金额。

![img](https://a9ehh4q3wr.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmJmZTI2YWY3NzJkOWFmYjQ3OGZkNjVhNDY5OTNlYzlfVE90UU5BOVB3eXNyejJMQ3JhQzVteUJtMHAxaHV0TllfVG9rZW46Ym94Y25rUllybVBDTm5yQklLN3ZTQ2VaamFlXzE2NDk0MTEzNjY6MTY0OTQxNDk2Nl9WNA)

#### 3.2.4 数据构建规范

##### 3.2.4.1 用户信息数据库

###### 3.2.4.1.1记录类型

构建用户数据库用来存储每个用户的最基本身份信息，包括其个人资料、账号密码信息等等，用来帮助系统对其进行身份识别、账号登入、权限修改等等。在用户数据库中，每条记录维护了一个用户的个人信息，其中每种个人信息设定为字符串类型，每条记录设定为由多个字符串组合的复合结构体类型。

###### 3.2.4.1.2 组成字段

每条记录由多个字段组成，包括如下:

| 字段说明 | 类型   | 字段说明   | 类型   |
| -------- | ------ | ---------- | ------ |
| 账号信息 | String | 用户昵称   | String |
| 密码信息 | String | 用户邮箱   | String |
| 用户手机 | String | 实名认证   | String |
| 账户余额 | String | 学校       | String |
| 用户类型 | String | 学号(工号) | String |
| 关联项目 | Ptr    |            |        |

##### 3.2.4.2 课程数据库

###### 3.2.4.2.1 记录类型

课程数据库维护了每个用户所加入或创建的课程信息，并对关键的数据进行了保存和维护。每条记录代表一个用户所关联的课程信息。每条记录由复合结构体类型组成。

###### 3.2.4.2.2 组成字段

| 字段说明   | 类型         | 字段说明 | 类型 |
| ---------- | ------------ | -------- | ---- |
| 课程列表   | List         | 课程考试 | Int  |
| 课程编号   | Int          |          |      |
| 课程创建者 | String       |          |      |
| 课程加入者 | List<String> |          |      |
| 课程文件   | List<Ptr>    |          |      |
| 课程作业   | List<Ptr>    |          |      |

其中List代表多个相同数据类型组成的列表，Ptr代表指向文件数据库的索引/指针

##### 3.2.4.3 考试数据库

###### 3.2.4.3.1 记录类型

考试数据库维护了考试功能所关联的全部数据信息。每条记录代表一场考试的信息，由复合结构体类型组成。

###### 3.2.4.3.2 组成字段

| 字段说明 | 类型         | 字段说明     | 类型         |
| -------- | ------------ | ------------ | ------------ |
| 考试编号 | Int          | 考试排名     | List<String> |
| 考生名单 | List<String> | 考试次数     | Int          |
| 考生学号 | List<String> | 是否公布结果 | bool         |
| 考试题目 | File         |              |              |
| 考试答案 | File         |              |              |
| 考试结果 | File         |              |              |

##### 3.2.4.4 游戏数据库

###### 3.2.4.4.1 记录类型

游戏数据库记录了所有游戏的相关数据，以及包括各个参与用户的历史代码、游戏排名等等。每条记录代表一个游戏的信息。每条记录由复合结构体类型组成。

###### 3.2.4.4.2 组成字段

| 字段说明 | 类型      | 字段说明 | 类型         |
| -------- | --------- | -------- | ------------ |
| 游戏编号 | Int       | 排名信息 | List<String> |
| 游戏名称 | String    | 成就信息 | Ptr          |
| 游戏文件 | Ptr       | 用户     | List<String> |
| 历史代码 | List<Ptr> |          |              |
| 进度说明 | List<int> |          |              |

##### 3.2.4.5 成就数据库

###### 3.2.4.5.1 记录类型

成就数据库记录了每个用户在项目学习过程中所获得的成就信息。每条记录代表一个用户所完成、未完成的全部成就系统所涉及的数据。每条记录由复合结构体类型组成。

###### 3.2.4.5.2 组成字段

| 字段说明 | 类型      | 字段说明 | 类型 |
| -------- | --------- | -------- | ---- |
| 成就列表 | List      | 排名信息 | Int  |
| 完成成就 | Bool      | 成就数量 | Int  |
| 成就描述 | Ptr       |          |      |
| 成就动画 | List<Ptr> |          |      |
| 排名信息 | Int       |          |      |

##### 3.2.4.6 竞赛数据库

###### 3.2.4.6.1 记录类型

竞赛数据库记录了所有竞赛所涉及的用户信息、排名信息等等。每条记录代表一场竞赛从竞赛报名、竞赛途中到竞赛结束、结果公开所产生的全部数据信息。每条记录由复合结构体类型组成。

###### 3.2.4.6.2 组成字段

| 字段说明 | 类型         | 字段说明 | 类型 |
| -------- | ------------ | -------- | ---- |
| 竞赛编号 | Int          | 竞赛题目 | File |
| 报名列表 | List<User>   | 竞赛评测 | Node |
| 筛选程序 | Ptr          | 评测程序 | Ptr  |
| 竞赛结果 | File         | 竞赛文件 | File |
| 排名信息 | List<String> |          |      |

其中Node代表竞赛所关联的程序评测节点

##### 3.2.4.7 博客数据库

###### 3.2.4.7.1 记录类型

博客数据库记录了用户发布的每条博客的相关信息。每条记录代表一篇博客的所有相关数据。每条记录由复合结构体类型组成。

###### 3.2.4.7.2 组成字段

| 字段说明     | 类型   | 字段说明 | 类型       |
| ------------ | ------ | -------- | ---------- |
| 博客编号     | int    | 发布时间 | Time       |
| 博客文件     | File   | 标签     | List<Enum> |
| 创作者       | String |          |            |
| 博客评论     | File   |          |            |
| 博客统计信息 | Dict   |          |            |

##### 3.2.4.8 项目数据库

###### 3.2.4.8.1 记录类型

项目数据库记录了每个开发者所提交、开发的项目信息。每条记录代表着一个项目所涉及的全部信息。每条记录由复合结构体类型组成。

###### 3.2.4.8.2 组成字段

| 字段说明 | 类型   | 字段说明 | 类型 |
| -------- | ------ | -------- | ---- |
| 项目编号 | int    | 项目代码 | Ptr  |
| 盈利信息 | Ptr    | 审核人员 | Int  |
| 项目描述 | Ptr    | 审核程序 | Ptr  |
| 开发日志 | File   |          |      |
| 开发者   | String |          |      |

##### 3.2.4.9 交易数据库

###### 3.2.4.9.1 记录类型

交易数据库记录了用户和平台每次的交易，每条交易均可为用户与平台的交易、用户与开发者之间的交易、平台与开发者之间的交易。每条记录维护了单条交易信息，其类型为复合结构体类型。

###### 3.2.4.9.2 组成字段

| 字段说明 | 类型   | 字段说明 | 类型   |
| -------- | ------ | -------- | ------ |
| 交易号   | Int    | 交易类型 | String |
| 付款方   | String | 支付渠道 | String |
| 收款方   | String | 交易金额 | Float  |
| 交易内容 | Ptr    |          |        |
| 交易时间 | Time   |          |        |

### 3.3 性能需求

- 支持的终端数量为每个用户最多三个终端，超过数量应按登录时间依次弹出之前的登录。
- 带宽及响应时间：初期估计用户数为 10000 人，每天登录用户数为3000 人左右，网络的带宽为 100M。
- 在非高峰时间运行用户代码，可在 3 秒内得到运行结果，高峰时段不超过 5 秒。其他如查询学习资料等功能，在 2 秒内得到查询结果，高峰时段不超过 3 秒。

### 3.4 设计约束

- 重新设计UI样式比较困难，前端页面的设计应以React UI库的组件为基础进行设计，例如Chakra UI。
- 依赖于GPU的高计算能力来实现用户的评测，因而整个前后端通信框架受到局限，难以进行扩展或更改
- 受限于Xeon Gold 6132型的CPU卡，部分软件版本可能不被支持，需要人为更换软件版本
- 用户上传的文件不宜过大，受网卡传输局限，过大的文件传输可能导致用户的文件传输失败

### 3.5 软件系统属性

1. 可靠性
   确保交付时可以无故障执行的时间达到 99%以上。系统每 1000 小时最多发生 1 次故障。因系统的失效而造成不能进行操作的概率要小于 1%。

2. 可用性

   - 回滚/检查点：周期性地保存系统状态，一旦系统出错则读取最近的保存，降低损失和影响。

   - 采用投票机制进行恢复：多个组件或子系统采用相同或不同地算法计算同一件事，如果各自结果不一致，则少数服从多数。

   - 系统重启动：让多件事务做绑定，一旦其中一个撤销，其余所有相关的事务也要撤销。若事务已经写入数据库，其余相关的事务也要重做。


3. 安全保密性

   - 用户密码的保存使用md5进行加密，存储密文；数据传输前使用hash256进行摘要，收到数据时要检查hash值，确保数据不可篡改。使用HTTPS协议，在HTTP的基础上通过传输加密和身份认证保证了传输过程的安全性。

   - 在一些重要数据处进行数据埋点，保留特定数据的历史或记录。

   - 系统应设置访问用户的标识以鉴别是否是合法用户，并要求合法用户设置其密码，保证用户身份不被盗用。并且对不同用户设置不同的权限，区分不同的用户，如区分普通用户（学生），教师。

   - 系统应对不同的数据设置不同的访问级别，限制访问用户可查询和处理数据的类别和内容。

   - 使用沙箱隔离环境，测试用户上传的代码，防止用户上传代码中含有恶意代码段造成数据泄露或系统被破坏。

   - 系统应保证用户的数据与实际情况一致。


4. 可维护性

   - 项目设计合理，预留扩展接口

   - 保留各版本源码，编写清晰规范的接口文档，变量命名风格统一，代码规范。

   - 对系统运行、网站流量等的日志实时存储，若运行出现异常，管理员及时发现并解决。


5. 可移植性

   项目是基于 web 平台的应用，具有良好可移植性，用户采用多数操作系统、设备，都能够对网站进行访问。

### 3.6 其他需求

1. 高可用性需求
   1. 网站存储数据库应有定期备份、并设置为主从数据库，发生软硬件故障导致崩溃后数据，可以通过从数据库恢复服务。
2. 兼容性需求
   1. 网站应能够在用户使用不同操作系统，如IOS、Android 、windows 操作系统，或使用不同设备如电脑、平板、手机的情况下能够正常运行。
   2. 网站应当兼容主流浏览器，如IE、Chrome、火狐浏览器，以及尽可能地兼容浏览器的较低版本。
3. 安全性需求
   1. 评测系统应能防止用户的恶意注入攻击
   2. 博客系统应能防范用户恶意评论

## **索引**

- GB/T 9385-2008 计算机软件需求规格说明规范
- IsIsEEE Std. 830-1998 -IEEE Recommended Practice for Software Requirements Specifications (Reaffirmed:2009-12-09)
- Agile Manifesto https://agilemanifesto.org/iso/zhchs/manifesto.html